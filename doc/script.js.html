<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: script.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: script.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/* Variable global */
let x;
let y;
let couleur;
let i;
let classPostit;
let onBouge = false;
let onTaille = false;
let idBouge = 0;
var tableauPostit = new Array();

/* Importation des éléments HMTL */
var postit1 = document.querySelector(".postit-1");
var postit2 = document.querySelector(".postit-2");
var postit3 = document.querySelector(".postit-3");
var zone = document.querySelector(".post-js");

/* Evenement */
document.addEventListener('mousemove', position => {
    x = position.clientX;
    y = position.clientY;
})

document.addEventListener('mouseup', () => {
    idBouge = 0;
    onBouge = false;
    onTaille = false;
})

// Postit 1
postit1.addEventListener('mousedown', () => {
    couleur = "#f8de59";
    classPostit = "post-1";
});

// Postit 2
postit2.addEventListener('mousedown', () => {
    couleur = "#E0B746";
    classPostit = "post-2";
});

// Postit 3
postit3.addEventListener('mousedown', () => {
    couleur = "#FCBC4E";
    classPostit = "post-3";
});

/* Création du postit */
zone.addEventListener('mousedown', () => {
    let newpostit = new Postit(x, y, 300, 250, "black", couleur, classPostit, tableauPostit.length + 1);
    tableauPostit.push(newpostit);
    tableauPostit[(tableauPostit.length - 1)].afficheTest();
});

/* Bouger le postit */
function refresh() {
    if (onBouge &amp;&amp; idBouge != 0) {
        console.log("on déplace !")
        tableauPostit[(idBouge - 1)].changePlace(x, y);
        tableauPostit[(idBouge - 1)].afficheTest();
    }

    if (onTaille &amp;&amp; idBouge != 0) {
        tableauPostit[(idBouge - 1)].changeTaille(y, x);
        tableauPostit[(idBouge - 1)].afficheTest();
    }
    setTimeout(refresh, 50)
}

refresh();

/**
 * Fonction permettant d'ajouter un element dans un autre
 * 
 * @param {string} parentId - Id de l'élément à appeler
 * @param {string} elem - tag de l'élément à créer
 * @param {string[]} classElem - tableau de chaine de classes à ajouter
 * @param {string} idElem - id de l'element à inserer
 * @param {onClickCallback} fonct - fonction executé sur clic souris
 */
function AjoutBouton(parentId, elem, classElem = [], idElem = "", fonct = "") {
    let elemACreer = document.createElement(elem)
    if (classElem.length > 0) {
        for (let uneClasse in classElem) {
            elemACreer.classList.add(classElem[uneClasse])
        }
    }
    if (idElem != "")
        elemACreer.id = idElem;
    if (fonct != "")
        elemACreer.addEventListener('click', fonct);
        
    document.getElementById(parentId).appendChild(elemACreer)
}

/** 
 * Suppression du postit
 * 
 * @param {string} numPostit - id du postit a supprimer
 * */ 
function delPostit(numPostit) {
    delete tableauPostit[numPostit - 1]
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Postit.html">Postit</a></li></ul><h3>Global</h3><ul><li><a href="global.html#AjoutBouton">AjoutBouton</a></li><li><a href="global.html#delPostit">delPostit</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Tue Mar 24 2020 14:13:12 GMT+0100 (GMT+01:00)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
